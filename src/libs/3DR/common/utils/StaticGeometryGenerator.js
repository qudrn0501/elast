const _0x401581=_0x3b54;function _0x3b54(_0x554451,_0xcfccc5){const _0x269fb5=_0x269f();return _0x3b54=function(_0x3b544e,_0xb4b0e){_0x3b544e=_0x3b544e-0x148;let _0x372b26=_0x269fb5[_0x3b544e];return _0x372b26;},_0x3b54(_0x554451,_0xcfccc5);}function _0x269f(){const _0x1956d1=['sub','material','508643KVjiBx','meshes','push','tangent','includes','skeleton','10SAsUmY','addGroup','applyMatrix4','isMesh','needsUpdate','setW','elements','morphTargetsRelative','35toBjWq','StaticGeometryGenerator:\x20All\x20geometries\x20must\x20have\x20compatible\x20attributes;\x20make\x20sure\x20\x22','StaticGeometryGenerator:\x20The\x20geometry\x20must\x20have\x20either\x20an\x20index\x20or\x20a\x20position\x20attribute','isArray','normalized','fill','attributes','getNormalMatrix','map','length','365916OcrPBR','traverse','3956319xByWsT','size','buffer','343845xfpXua','bindMatrix','isSkinnedMesh','applyWorldTransforms','getX','normal','setAttribute','matrixWorld','geometry','morphAttributes','transformDirection','BYTES_PER_ELEMENT','set','add','bones','setX','count','addScaledVector','6321IlcOhd','applyNormalMatrix','setXYZ','has','StaticGeometryGenerator:\x20Make\x20sure\x20all\x20geometries\x20have\x20the\x20same\x20number\x20of\x20attributes.','_convertToStaticGeometry','position','useGroups','477472vTWFhC','setIndex','generate','isInterleavedBufferAttribute','array','constructor','multiply','fromBufferAttribute','bindMatrixInverse','index','itemSize','getY','premultiply','2022436whPoQW','634xIJrrs','setY','boneInverses','getComponent','getZ','forEach','skinWeight'];_0x269f=function(){return _0x1956d1;};return _0x269f();}(function(_0xda84d6,_0xd050aa){const _0x47e067=_0x3b54,_0x58edb8=_0xda84d6();while(!![]){try{const _0x5f7715=parseInt(_0x47e067(0x16a))/0x1+parseInt(_0x47e067(0x161))/0x2*(-parseInt(_0x47e067(0x14b))/0x3)+parseInt(_0x47e067(0x160))/0x4+-parseInt(_0x47e067(0x187))/0x5+parseInt(_0x47e067(0x182))/0x6*(-parseInt(_0x47e067(0x178))/0x7)+-parseInt(_0x47e067(0x153))/0x8+parseInt(_0x47e067(0x184))/0x9*(parseInt(_0x47e067(0x170))/0xa);if(_0x5f7715===_0xd050aa)break;else _0x58edb8['push'](_0x58edb8['shift']());}catch(_0x57d1c0){_0x58edb8['push'](_0x58edb8['shift']());}}}(_0x269f,0x5611d));import{BufferAttribute,BufferGeometry,Vector3,Vector4,Matrix4,Matrix3}from'../../../build/three.module.js';const _positionVector=new Vector3(),_normalVector=new Vector3(),_tangentVector=new Vector3(),_tangentVector4=new Vector4(),_morphVector=new Vector3(),_temp=new Vector3(),_skinIndex=new Vector4(),_skinWeight=new Vector4(),_matrix=new Matrix4(),_boneMatrix=new Matrix4();function validateAttributes(_0x6f2713,_0x138baf){const _0x1d67ad=_0x3b54;if(!_0x6f2713&&!_0x138baf)return;const _0x55d819=_0x6f2713['count']===_0x138baf[_0x1d67ad(0x149)],_0x29a151=_0x6f2713[_0x1d67ad(0x17c)]===_0x138baf[_0x1d67ad(0x17c)],_0x4bcd9c=_0x6f2713['array'][_0x1d67ad(0x158)]===_0x138baf[_0x1d67ad(0x157)]['constructor'],_0x137183=_0x6f2713[_0x1d67ad(0x15d)]===_0x138baf['itemSize'];if(!_0x55d819||!_0x29a151||!_0x4bcd9c||!_0x137183)throw new Error();}function createAttributeClone(_0x21f41e,_0xf086f0=null){const _0x534f31=_0x3b54,_0x2c1f2a=_0x21f41e[_0x534f31(0x157)][_0x534f31(0x158)],_0x5297df=_0x21f41e[_0x534f31(0x17c)],_0x2479fe=_0x21f41e[_0x534f31(0x15d)],_0x1a4d9f=_0xf086f0===null?_0x21f41e['count']:_0xf086f0;return new BufferAttribute(new _0x2c1f2a(_0x2479fe*_0x1a4d9f),_0x2479fe,_0x5297df);}function copyAttributeContents(_0x3776a4,_0x4d04bf,_0x440ac1=0x0){const _0x37fd8f=_0x3b54;if(_0x3776a4[_0x37fd8f(0x156)]){const _0x1ceddd=_0x3776a4[_0x37fd8f(0x15d)];for(let _0x1dded4=0x0,_0xe4abfb=_0x3776a4['count'];_0x1dded4<_0xe4abfb;_0x1dded4++){const _0x1036e0=_0x1dded4+_0x440ac1;_0x4d04bf[_0x37fd8f(0x148)](_0x1036e0,_0x3776a4[_0x37fd8f(0x18b)](_0x1dded4));if(_0x1ceddd>=0x2)_0x4d04bf[_0x37fd8f(0x162)](_0x1036e0,_0x3776a4[_0x37fd8f(0x15e)](_0x1dded4));if(_0x1ceddd>=0x3)_0x4d04bf['setZ'](_0x1036e0,_0x3776a4[_0x37fd8f(0x165)](_0x1dded4));if(_0x1ceddd>=0x4)_0x4d04bf[_0x37fd8f(0x175)](_0x1036e0,_0x3776a4['getW'](_0x1dded4));}}else{const _0x22d03d=_0x4d04bf[_0x37fd8f(0x157)],_0xbeb461=_0x22d03d['constructor'],_0x3aa5ac=_0x22d03d[_0x37fd8f(0x192)]*_0x3776a4['itemSize']*_0x440ac1,_0x4858d1=new _0xbeb461(_0x22d03d[_0x37fd8f(0x186)],_0x3aa5ac,_0x3776a4[_0x37fd8f(0x157)][_0x37fd8f(0x181)]);_0x4858d1[_0x37fd8f(0x193)](_0x3776a4['array']);}}function addScaledMatrix(_0x4d9979,_0x167b3b,_0x2fe5c5){const _0x4ae954=_0x3b54,_0x118e8d=_0x4d9979[_0x4ae954(0x176)],_0x278b21=_0x167b3b['elements'];for(let _0xa49baa=0x0,_0x1284c9=_0x278b21[_0x4ae954(0x181)];_0xa49baa<_0x1284c9;_0xa49baa++){_0x118e8d[_0xa49baa]+=_0x278b21[_0xa49baa]*_0x2fe5c5;}}function boneNormalTransform(_0x10e5b4,_0x179c35,_0x449c56){const _0x2f8268=_0x3b54,_0x4beaf9=_0x10e5b4[_0x2f8268(0x16f)],_0x47e3c7=_0x10e5b4[_0x2f8268(0x18f)],_0x252a44=_0x4beaf9[_0x2f8268(0x195)],_0x499245=_0x4beaf9[_0x2f8268(0x163)];_skinIndex['fromBufferAttribute'](_0x47e3c7[_0x2f8268(0x17e)]['skinIndex'],_0x179c35),_skinWeight[_0x2f8268(0x15a)](_0x47e3c7['attributes'][_0x2f8268(0x167)],_0x179c35),_matrix['elements'][_0x2f8268(0x17d)](0x0);for(let _0x2b3b53=0x0;_0x2b3b53<0x4;_0x2b3b53++){const _0x3ed50b=_skinWeight[_0x2f8268(0x164)](_0x2b3b53);if(_0x3ed50b!==0x0){const _0x5349c7=_skinIndex['getComponent'](_0x2b3b53);_boneMatrix['multiplyMatrices'](_0x252a44[_0x5349c7][_0x2f8268(0x18e)],_0x499245[_0x5349c7]),addScaledMatrix(_matrix,_boneMatrix,_0x3ed50b);}}return _matrix[_0x2f8268(0x159)](_0x10e5b4[_0x2f8268(0x188)])[_0x2f8268(0x15f)](_0x10e5b4[_0x2f8268(0x15b)]),_0x449c56[_0x2f8268(0x191)](_matrix),_0x449c56;}function applyMorphTarget(_0x5ab6b3,_0x51e8d3,_0xa2de58,_0x470e54,_0x2f3cbd){const _0x1583a7=_0x3b54;_morphVector[_0x1583a7(0x193)](0x0,0x0,0x0);for(let _0x2a401b=0x0,_0x1c1270=_0x5ab6b3[_0x1583a7(0x181)];_0x2a401b<_0x1c1270;_0x2a401b++){const _0x37db2b=_0x51e8d3[_0x2a401b],_0x2252e4=_0x5ab6b3[_0x2a401b];if(_0x37db2b===0x0)continue;_temp['fromBufferAttribute'](_0x2252e4,_0x470e54),_0xa2de58?_morphVector[_0x1583a7(0x14a)](_temp,_0x37db2b):_morphVector[_0x1583a7(0x14a)](_temp[_0x1583a7(0x168)](_0x2f3cbd),_0x37db2b);}_0x2f3cbd[_0x1583a7(0x194)](_morphVector);}function mergeBufferGeometries(_0x51c89f,_0x2458e0={'useGroups':![],'updateIndex':![]},_0x3e06dd=new BufferGeometry()){const _0x558c32=_0x3b54,_0x56c149=_0x51c89f[0x0][_0x558c32(0x15c)]!==null,{useGroups:_0x50944e,updateIndex:_0x4409a7}=_0x2458e0,_0x18adb5=new Set(Object['keys'](_0x51c89f[0x0]['attributes'])),_0x566863={};let _0x431bd7=0x0;for(let _0x438554=0x0;_0x438554<_0x51c89f[_0x558c32(0x181)];++_0x438554){const _0x500dc4=_0x51c89f[_0x438554];let _0x3d0aea=0x0;if(_0x56c149!==(_0x500dc4['index']!==null))throw new Error('StaticGeometryGenerator:\x20All\x20geometries\x20must\x20have\x20compatible\x20attributes;\x20make\x20sure\x20index\x20attribute\x20exists\x20among\x20all\x20geometries,\x20or\x20in\x20none\x20of\x20them.');for(const _0x659d68 in _0x500dc4[_0x558c32(0x17e)]){if(!_0x18adb5[_0x558c32(0x14e)](_0x659d68))throw new Error(_0x558c32(0x179)+_0x659d68+'\x22\x20attribute\x20exists\x20among\x20all\x20geometries,\x20or\x20in\x20none\x20of\x20them.');_0x566863[_0x659d68]===undefined&&(_0x566863[_0x659d68]=[]),_0x566863[_0x659d68][_0x558c32(0x16c)](_0x500dc4['attributes'][_0x659d68]),_0x3d0aea++;}if(_0x3d0aea!==_0x18adb5[_0x558c32(0x185)])throw new Error(_0x558c32(0x14f));if(_0x50944e){let _0xf8bb0d;if(_0x56c149)_0xf8bb0d=_0x500dc4[_0x558c32(0x15c)]['count'];else{if(_0x500dc4[_0x558c32(0x17e)][_0x558c32(0x151)]!==undefined)_0xf8bb0d=_0x500dc4[_0x558c32(0x17e)][_0x558c32(0x151)]['count'];else throw new Error(_0x558c32(0x17a));}_0x3e06dd[_0x558c32(0x171)](_0x431bd7,_0xf8bb0d,_0x438554),_0x431bd7+=_0xf8bb0d;}}if(_0x56c149){let _0x52fba8=![];if(!_0x3e06dd['index']){let _0x524f91=0x0;for(let _0x310e1d=0x0;_0x310e1d<_0x51c89f[_0x558c32(0x181)];++_0x310e1d){_0x524f91+=_0x51c89f[_0x310e1d][_0x558c32(0x15c)][_0x558c32(0x149)];}_0x3e06dd[_0x558c32(0x154)](new BufferAttribute(new Uint32Array(_0x524f91),0x1,![])),_0x52fba8=!![];}if(_0x4409a7||_0x52fba8){const _0x5a9cb0=_0x3e06dd['index'];let _0x4f171b=0x0,_0x4510bc=0x0;for(let _0x23b061=0x0;_0x23b061<_0x51c89f[_0x558c32(0x181)];++_0x23b061){const _0x3954c4=_0x51c89f[_0x23b061],_0x244f5c=_0x3954c4[_0x558c32(0x15c)];for(let _0x5d2a04=0x0;_0x5d2a04<_0x244f5c[_0x558c32(0x149)];++_0x5d2a04){_0x5a9cb0['setX'](_0x4f171b,_0x244f5c[_0x558c32(0x18b)](_0x5d2a04)+_0x4510bc),_0x4f171b++;}_0x4510bc+=_0x3954c4[_0x558c32(0x17e)][_0x558c32(0x151)]['count'];}}}for(const _0x4527ea in _0x566863){const _0x53a43d=_0x566863[_0x4527ea];if(!(_0x4527ea in _0x3e06dd[_0x558c32(0x17e)])){let _0x2f9757=0x0;for(const _0x4cfc02 in _0x53a43d){_0x2f9757+=_0x53a43d[_0x4cfc02][_0x558c32(0x149)];}_0x3e06dd[_0x558c32(0x18d)](_0x4527ea,createAttributeClone(_0x566863[_0x4527ea][0x0],_0x2f9757));}const _0x19bb73=_0x3e06dd[_0x558c32(0x17e)][_0x4527ea];let _0x4ca17b=0x0;for(const _0x264f8c in _0x53a43d){const _0x175732=_0x53a43d[_0x264f8c];copyAttributeContents(_0x175732,_0x19bb73,_0x4ca17b),_0x4ca17b+=_0x175732[_0x558c32(0x149)];}}return _0x3e06dd;}export class StaticGeometryGenerator{constructor(_0x4a899b){const _0x4bba16=_0x3b54;!Array[_0x4bba16(0x17b)](_0x4a899b)&&(_0x4a899b=[_0x4a899b]);const _0x163fcc=[];_0x4a899b[_0x4bba16(0x166)](_0x3027ec=>{const _0x1c671e=_0x4bba16;_0x3027ec[_0x1c671e(0x183)](_0x366be4=>{const _0x3bbad4=_0x1c671e;_0x366be4[_0x3bbad4(0x173)]&&_0x163fcc['push'](_0x366be4);});}),this[_0x4bba16(0x16b)]=_0x163fcc,this[_0x4bba16(0x152)]=!![],this[_0x4bba16(0x18a)]=!![],this['attributes']=[_0x4bba16(0x151),'normal',_0x4bba16(0x16d),'uv','uv2'],this['_intermediateGeometry']=new Array(_0x163fcc[_0x4bba16(0x181)])[_0x4bba16(0x17d)]()[_0x4bba16(0x180)](()=>new BufferGeometry());}['getMaterials'](){const _0x59c474=_0x3b54,_0x2ffcd3=[];return this[_0x59c474(0x16b)][_0x59c474(0x166)](_0x5e83ad=>{const _0x1b068a=_0x59c474;Array['isArray'](_0x5e83ad[_0x1b068a(0x169)])?_0x2ffcd3[_0x1b068a(0x16c)](..._0x5e83ad[_0x1b068a(0x169)]):_0x2ffcd3[_0x1b068a(0x16c)](_0x5e83ad[_0x1b068a(0x169)]);}),_0x2ffcd3;}[_0x401581(0x155)](_0x381a8d=new BufferGeometry()){const _0x343714=_0x401581,{meshes:_0x359dda,useGroups:_0x343a5a,_intermediateGeometry:_0x1404e0}=this;for(let _0x4f4ea2=0x0,_0x1b6add=_0x359dda[_0x343714(0x181)];_0x4f4ea2<_0x1b6add;_0x4f4ea2++){const _0x188d61=_0x359dda[_0x4f4ea2],_0x2036ee=_0x1404e0[_0x4f4ea2];this[_0x343714(0x150)](_0x188d61,_0x2036ee);}mergeBufferGeometries(_0x1404e0,{'useGroups':_0x343a5a},_0x381a8d);for(const _0x12b082 in _0x381a8d[_0x343714(0x17e)]){_0x381a8d[_0x343714(0x17e)][_0x12b082][_0x343714(0x174)]=!![];}return _0x381a8d;}['_convertToStaticGeometry'](_0x233f30,_0x2f1948=new BufferGeometry()){const _0x47d2fc=_0x401581,_0x3fd58b=_0x233f30['geometry'],_0x335e74=this['applyWorldTransforms'],_0x2004fe=this[_0x47d2fc(0x17e)][_0x47d2fc(0x16e)](_0x47d2fc(0x18c)),_0xb6566a=this[_0x47d2fc(0x17e)][_0x47d2fc(0x16e)]('tangent'),_0xe963c2=_0x3fd58b[_0x47d2fc(0x17e)],_0x250e3d=_0x2f1948['attributes'];!_0x2f1948[_0x47d2fc(0x15c)]&&(_0x2f1948[_0x47d2fc(0x15c)]=_0x3fd58b[_0x47d2fc(0x15c)]);!_0x250e3d[_0x47d2fc(0x151)]&&_0x2f1948[_0x47d2fc(0x18d)]('position',createAttributeClone(_0xe963c2[_0x47d2fc(0x151)]));_0x2004fe&&!_0x250e3d[_0x47d2fc(0x18c)]&&_0xe963c2[_0x47d2fc(0x18c)]&&_0x2f1948['setAttribute']('normal',createAttributeClone(_0xe963c2['normal']));_0xb6566a&&!_0x250e3d[_0x47d2fc(0x16d)]&&_0xe963c2['tangent']&&_0x2f1948[_0x47d2fc(0x18d)]('tangent',createAttributeClone(_0xe963c2['tangent']));validateAttributes(_0x3fd58b[_0x47d2fc(0x15c)],_0x2f1948[_0x47d2fc(0x15c)]),validateAttributes(_0xe963c2[_0x47d2fc(0x151)],_0x250e3d['position']);_0x2004fe&&validateAttributes(_0xe963c2['normal'],_0x250e3d[_0x47d2fc(0x18c)]);_0xb6566a&&validateAttributes(_0xe963c2[_0x47d2fc(0x16d)],_0x250e3d[_0x47d2fc(0x16d)]);const _0x108b0b=_0xe963c2[_0x47d2fc(0x151)],_0xc733ef=_0x2004fe?_0xe963c2[_0x47d2fc(0x18c)]:null,_0x3c7b94=_0xb6566a?_0xe963c2['tangent']:null,_0x34dba4=_0x3fd58b[_0x47d2fc(0x190)][_0x47d2fc(0x151)],_0x10cebd=_0x3fd58b[_0x47d2fc(0x190)][_0x47d2fc(0x18c)],_0x3b1082=_0x3fd58b[_0x47d2fc(0x190)][_0x47d2fc(0x16d)],_0x36ffd0=_0x3fd58b[_0x47d2fc(0x177)],_0x30532e=_0x233f30['morphTargetInfluences'],_0x2fc302=new Matrix3();_0x2fc302[_0x47d2fc(0x17f)](_0x233f30[_0x47d2fc(0x18e)]);for(let _0x20c25d=0x0,_0x39f55d=_0xe963c2['position'][_0x47d2fc(0x149)];_0x20c25d<_0x39f55d;_0x20c25d++){_positionVector[_0x47d2fc(0x15a)](_0x108b0b,_0x20c25d),_0xc733ef&&_normalVector[_0x47d2fc(0x15a)](_0xc733ef,_0x20c25d),_0x3c7b94&&(_tangentVector4[_0x47d2fc(0x15a)](_0x3c7b94,_0x20c25d),_tangentVector['fromBufferAttribute'](_0x3c7b94,_0x20c25d)),_0x30532e&&(_0x34dba4&&applyMorphTarget(_0x34dba4,_0x30532e,_0x36ffd0,_0x20c25d,_positionVector),_0x10cebd&&applyMorphTarget(_0x10cebd,_0x30532e,_0x36ffd0,_0x20c25d,_normalVector),_0x3b1082&&applyMorphTarget(_0x3b1082,_0x30532e,_0x36ffd0,_0x20c25d,_tangentVector)),_0x233f30[_0x47d2fc(0x189)]&&(_0x233f30['boneTransform'](_0x20c25d,_positionVector),_0xc733ef&&boneNormalTransform(_0x233f30,_0x20c25d,_normalVector),_0x3c7b94&&boneNormalTransform(_0x233f30,_0x20c25d,_tangentVector)),_0x335e74&&_positionVector[_0x47d2fc(0x172)](_0x233f30[_0x47d2fc(0x18e)]),_0x250e3d[_0x47d2fc(0x151)]['setXYZ'](_0x20c25d,_positionVector['x'],_positionVector['y'],_positionVector['z']),_0xc733ef&&(_0x335e74&&_normalVector[_0x47d2fc(0x14c)](_0x2fc302),_0x250e3d[_0x47d2fc(0x18c)][_0x47d2fc(0x14d)](_0x20c25d,_normalVector['x'],_normalVector['y'],_normalVector['z'])),_0x3c7b94&&(_0x335e74&&_tangentVector[_0x47d2fc(0x191)](_0x233f30['matrixWorld']),_0x250e3d[_0x47d2fc(0x16d)]['setXYZW'](_0x20c25d,_tangentVector['x'],_tangentVector['y'],_tangentVector['z'],_tangentVector4['w']));}for(const _0x2e94fe in this[_0x47d2fc(0x17e)]){const _0x4795b8=this['attributes'][_0x2e94fe];if(_0x4795b8==='position'||_0x4795b8===_0x47d2fc(0x16d)||_0x4795b8===_0x47d2fc(0x18c)||!(_0x4795b8 in _0xe963c2))continue;!_0x250e3d[_0x4795b8]&&_0x2f1948[_0x47d2fc(0x18d)](_0x4795b8,createAttributeClone(_0xe963c2[_0x4795b8])),validateAttributes(_0xe963c2[_0x4795b8],_0x250e3d[_0x4795b8]),copyAttributeContents(_0xe963c2[_0x4795b8],_0x250e3d[_0x4795b8]);}return _0x2f1948;}}