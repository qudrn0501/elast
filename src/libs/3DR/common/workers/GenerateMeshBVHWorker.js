const _0x2657bf=_0xc2bd;(function(_0x376c3b,_0x1449c1){const _0x54c002=_0xc2bd,_0x56230c=_0x376c3b();while(!![]){try{const _0x3f54d2=-parseInt(_0x54c002(0x88))/0x1*(parseInt(_0x54c002(0x97))/0x2)+parseInt(_0x54c002(0x7a))/0x3*(-parseInt(_0x54c002(0x7c))/0x4)+-parseInt(_0x54c002(0x87))/0x5+-parseInt(_0x54c002(0x85))/0x6+-parseInt(_0x54c002(0x90))/0x7*(-parseInt(_0x54c002(0x93))/0x8)+parseInt(_0x54c002(0x9c))/0x9+-parseInt(_0x54c002(0x8b))/0xa*(-parseInt(_0x54c002(0x99))/0xb);if(_0x3f54d2===_0x1449c1)break;else _0x56230c['push'](_0x56230c['shift']());}catch(_0x2a6bc2){_0x56230c['push'](_0x56230c['shift']());}}}(_0x3986,0x84e1e));import{Box3,BufferAttribute}from'../../../build/three.module.js';function _0xc2bd(_0x1c0cd2,_0x1a9578){const _0x398618=_0x3986();return _0xc2bd=function(_0xc2bd13,_0x27f9ca){_0xc2bd13=_0xc2bd13-0x77;let _0x3c62e7=_0x398618[_0xc2bd13];return _0x3c62e7;},_0xc2bd(_0x1c0cd2,_0x1a9578);}function _0x3986(){const _0xbae04e=['6kFZKXp','GenerateMeshBVHWorker:\x20Could\x20not\x20create\x20Web\x20Worker.','24476441XvZQQn','assign','push','8567163ISNZSY','buffer','error','progress','serialized','getBoundingBox','969wpBbAe','warn','204bjwdZl','deserialize','message','GenerateMeshBVHWorker:\x20Worker\x20has\x20been\x20disposed.','generate','running','isInterleavedBufferAttribute','GenerateMeshBVHWorker:\x20InterleavedBufferAttribute\x20are\x20not\x20supported\x20for\x20the\x20geometry\x20attributes.','array','5791962gvCxNX','onmessage','4902035DJxhtA','247789dqFkIo','onProgress','dispose','10bCbdnE','index','GenerateMeshBVHWorker:\x20','onerror','position','3206TQYYBu','map','worker','1272KOHqNB','attributes','groups','setIndex'];_0x3986=function(){return _0xbae04e;};return _0x3986();}import{MeshBVH}from'../core/MeshBVH.js';export class GenerateMeshBVHWorker{constructor(){const _0xed5f0b=_0xc2bd;this[_0xed5f0b(0x81)]=![],this[_0xed5f0b(0x92)]=new Worker(new URL('./generateAsync.worker.js',import.meta['url']),{'type':'module'}),this[_0xed5f0b(0x92)]['onerror']=_0x1cfbee=>{const _0x597a6a=_0xed5f0b;if(_0x1cfbee[_0x597a6a(0x7e)])throw new Error('GenerateMeshBVHWorker:\x20Could\x20not\x20create\x20Web\x20Worker\x20with\x20error\x20\x22'+_0x1cfbee[_0x597a6a(0x7e)]+'\x22');else throw new Error(_0x597a6a(0x98));};}[_0x2657bf(0x80)](_0x598cf6,_0x230d25={}){const _0x4ea230=_0x2657bf;if(this['running'])throw new Error('GenerateMeshBVHWorker:\x20Already\x20running\x20job.');if(this[_0x4ea230(0x92)]===null)throw new Error(_0x4ea230(0x7f));const {worker:_0x518b4f}=this;return this[_0x4ea230(0x81)]=!![],new Promise((_0x541f14,_0x45b645)=>{const _0x4e1ebc=_0x4ea230;_0x518b4f[_0x4e1ebc(0x8e)]=_0x9863ce=>{const _0x344a10=_0x4e1ebc;_0x45b645(new Error(_0x344a10(0x8d)+_0x9863ce[_0x344a10(0x7e)])),this[_0x344a10(0x81)]=![];},_0x518b4f[_0x4e1ebc(0x86)]=_0x139816=>{const _0x4ee5db=_0x4e1ebc;this['running']=![];const {data:_0x18a559}=_0x139816;if(_0x18a559[_0x4ee5db(0x9e)])_0x45b645(new Error(_0x18a559['error'])),_0x518b4f[_0x4ee5db(0x86)]=null;else{if(_0x18a559[_0x4ee5db(0x78)]){const {serialized:_0x2c4785,position:_0x51fb6f}=_0x18a559,_0xca54b=MeshBVH[_0x4ee5db(0x7d)](_0x2c4785,_0x598cf6,{'setIndex':![]}),_0x4e5483=Object[_0x4ee5db(0x9a)]({'setBoundingBox':!![]},_0x230d25);_0x598cf6[_0x4ee5db(0x94)]['position'][_0x4ee5db(0x84)]=_0x51fb6f;if(_0x598cf6[_0x4ee5db(0x8c)])_0x598cf6[_0x4ee5db(0x8c)]['array']=_0x2c4785[_0x4ee5db(0x8c)];else{const _0x2176b9=new BufferAttribute(_0x2c4785[_0x4ee5db(0x8c)],0x1,![]);_0x598cf6[_0x4ee5db(0x96)](_0x2176b9);}_0x4e5483['setBoundingBox']&&(_0x598cf6['boundingBox']=_0xca54b[_0x4ee5db(0x79)](new Box3())),_0x541f14(_0xca54b),_0x518b4f[_0x4ee5db(0x86)]=null;}else _0x230d25['onProgress']&&_0x230d25[_0x4ee5db(0x89)](_0x18a559[_0x4ee5db(0x77)]);}};const _0x4d348e=_0x598cf6['index']?_0x598cf6['index'][_0x4e1ebc(0x84)]:null,_0x28b76c=_0x598cf6[_0x4e1ebc(0x94)][_0x4e1ebc(0x8f)][_0x4e1ebc(0x84)];if(_0x28b76c[_0x4e1ebc(0x82)]||_0x4d348e&&_0x4d348e[_0x4e1ebc(0x82)])throw new Error(_0x4e1ebc(0x83));const _0x3c05ac=[_0x28b76c];_0x4d348e&&_0x3c05ac[_0x4e1ebc(0x9b)](_0x4d348e),_0x518b4f['postMessage']({'index':_0x4d348e,'position':_0x28b76c,'options':{..._0x230d25,'onProgress':null,'includedProgressCallback':Boolean(_0x230d25[_0x4e1ebc(0x89)]),'groups':[..._0x598cf6[_0x4e1ebc(0x95)]]}},_0x3c05ac[_0x4e1ebc(0x91)](_0x6703e1=>_0x6703e1[_0x4e1ebc(0x9d)]));});}[_0x2657bf(0x8a)](){const _0x21b48d=_0x2657bf;this[_0x21b48d(0x92)]['terminate'](),this[_0x21b48d(0x92)]=null;}['terminate'](){const _0x1e14a0=_0x2657bf;console[_0x1e14a0(0x7b)]('GenerateMeshBVHWorker:\x20\x22terminate\x22\x20is\x20deprecated.\x20Use\x20\x22dispose\x22\x20instead.'),this[_0x1e14a0(0x8a)]();}}